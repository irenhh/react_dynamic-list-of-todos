{"version":3,"sources":["TodoItem.js","User.js","Sorter.js","getData.js","TodoList.js","App.js","index.js"],"names":["TodoItem","props","item","react_default","a","createElement","className","type","checked","completed","id","concat","title","htmlFor","onClick","onChange","user","username","User","_props$user","name","email","phone","website","href","Sorter","sortBy","sortByUserVals","getTodos","fetch","then","response","json","getUsers","TodoList","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","loadData","setState","isLoading","Promise","all","_ref","_ref2","slicedToArray","todos","users","preparedTodos","map","todo","objectSpread","find","userId","listOfTodos","isLoaded","visibleTodos","target","prevState","toConsumableArray","sort","b","localeCompare","String","onTodoCheched","state","_this2","disabled","src_Sorter","key","src_TodoItem","src_User","React","Component","App","src_TodoList","ReactDOM","render","src_App","document","getElementById"],"mappings":"8PAuCeA,MApCf,SAAkBC,GAAO,IACfC,EAASD,EAATC,KAER,OACEC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,aACbH,EAAAC,EAAAC,cAAA,SACEE,KAAK,WACLC,QAASN,EAAKO,UACdH,UAAU,mBACVI,GAAE,GAAAC,OAAKT,EAAKU,MAAV,KAAAD,OAAmBT,EAAKQ,MAG5BP,EAAAC,EAAAC,cAAA,SACEC,UAAU,mBACVO,QAASX,EAAKQ,GACdI,QAAS,kBAAMb,EAAMc,SAASb,EAAKQ,MAElCR,EAAKU,OAGRT,EAAAC,EAAAC,cAAA,WACAF,EAAAC,EAAAC,cAAA,SAAIH,EAAKc,KAAKC,YCoBLC,MAzCf,SAAcjB,GAAO,IAAAkB,EAMflB,EAAMe,KAJRI,EAFiBD,EAEjBC,KACAC,EAHiBF,EAGjBE,MACAC,EAJiBH,EAIjBG,MACAC,EALiBJ,EAKjBI,QAGF,OACEpB,EAAAC,EAAAC,cAAA,OAAKC,UAAU,QACbH,EAAAC,EAAAC,cAAA,iBAEGe,GAEHjB,EAAAC,EAAAC,cAAA,kBAEGgB,GAEHlB,EAAAC,EAAAC,cAAA,kBAEGiB,GAEHnB,EAAAC,EAAAC,cAAA,KAAGC,UAAU,iBAAb,WAEEH,EAAAC,EAAAC,cAAA,KAAGC,UAAU,qBAAqBkB,KAAMD,GACrCA,MCaIE,MAtCf,SAAgBxB,GAAO,IACbyB,EAA2BzB,EAA3ByB,OAAQC,EAAmB1B,EAAnB0B,eAEhB,OACExB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,uBACAF,EAAAC,EAAAC,cAAA,UACEE,KAAK,SACLO,QAAS,kBAAMY,EAAO,UACtBpB,UAAU,kBAHZ,SAQAH,EAAAC,EAAAC,cAAA,UACEE,KAAK,SACLO,QAAS,kBAAMa,EAAe,SAC9BrB,UAAU,kBAHZ,QAQAH,EAAAC,EAAAC,cAAA,UACEE,KAAK,SACLO,QAAS,kBAAMY,EAAO,cACtBpB,UAAU,kBAHZ,uBCvBOsB,EAAW,WACtB,OAAOC,MAAK,GAAAlB,OAHU,uCAGV,WACTmB,KAAK,SAAAC,GAAQ,OAAIA,EAASC,UAGlBC,EAAW,WACtB,OAAOJ,MAAK,GAAAlB,OARU,uCAQV,WACTmB,KAAK,SAAAC,GAAQ,OAAIA,EAASC,UCiGhBE,cAnGb,SAAAA,EAAYjC,GAAO,IAAAkC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAJ,IACjBC,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAF,GAAAO,KAAAH,KAAMrC,KASRyC,SAAW,WACTP,EAAKQ,SAAS,CAAEC,WAAW,IAE3BC,QAAQC,IAAI,CAAClB,IAAYK,MACtBH,KAAK,SAAAiB,GAAoB,IAAAC,EAAAZ,OAAAa,EAAA,EAAAb,CAAAW,EAAA,GAAlBG,EAAkBF,EAAA,GAAXG,EAAWH,EAAA,GAClBI,EAAgBF,EAAMG,IAAI,SAAAC,GAAI,OAAAlB,OAAAmB,EAAA,EAAAnB,CAAA,GAC/BkB,EAD+B,CAElCtC,KAAMmC,EAAMK,KAAK,SAAAxC,GAAI,OAAIA,EAAKN,KAAO4C,EAAKG,aAG5CtB,EAAKQ,SAAS,CACZe,YAAaN,EACbO,UAAU,EACVf,WAAW,EACXgB,aAAcR,OAxBHjB,EA6BnBR,eAAiB,SAACkC,GAChB1B,EAAKQ,SAAS,SAACmB,GACb,MAAO,CACLF,aAAcxB,OAAA2B,EAAA,EAAA3B,CAAI0B,EAAUJ,aACzBM,KAAK,SAAC5D,EAAG6D,GAAJ,OAAW7D,EAAEY,KAAK6C,GAASK,cAAcD,EAAEjD,KAAK6C,UAjC3C1B,EAsCnBT,OAAS,SAACmC,GACR1B,EAAKQ,SAAS,SAACmB,GACb,MAAO,CACLF,aAAcxB,OAAA2B,EAAA,EAAA3B,CAAI0B,EAAUJ,aACzBM,KAAK,SAAC5D,EAAG6D,GAAJ,OAAUE,OAAO/D,EAAEyD,IAASK,cAAcC,OAAOF,EAAEJ,WA1C9C1B,EA+CnBiC,cAAgB,SAAC1D,GACfyB,EAAKQ,SAAS,SAACmB,GAOb,MAAO,CACLF,aAPmBE,EAAUF,aAAaP,IAAI,SAACC,GAI/C,OAHIA,EAAK5C,KAAOA,IACd4C,EAAK7C,WAAa6C,EAAK7C,WAElB6C,QAnDXnB,EAAKkC,MAAQ,CACXX,YAAa,GACbE,aAAc,GACdD,UAAU,EACVf,WAAW,GANIT,wEA6DV,IAAAmC,EAAAhC,KACP,OACEnC,EAAAC,EAAAC,cAAA,OAAKC,UAAU,cACVgC,KAAK+B,MAAMV,UACZxD,EAAAC,EAAAC,cAAA,UACES,QAASwB,KAAKI,SACdnC,KAAK,SACLgE,SAAUjC,KAAK+B,MAAMzB,UACrBtC,UAAU,0BAETgC,KAAK+B,MAAMzB,UAAY,aAAe,QAIzCN,KAAK+B,MAAMV,UACXxD,EAAAC,EAAAC,cAACmE,EAAD,CACE9C,OAAQY,KAAKZ,OACbC,eAAgBW,KAAKX,iBAIxBW,KAAK+B,MAAMT,aAAaP,IAAI,SAAAC,GAAI,OAC/BnD,EAAAC,EAAAC,cAAA,OACEC,UAAU,kBACVmE,IAAKnB,EAAK5C,IAEVP,EAAAC,EAAAC,cAACqE,EAAD,CACExE,KAAMoD,EACNvC,SAAUuD,EAAKF,gBAEjBjE,EAAAC,EAAAC,cAACsE,EAAD,CAAM3D,KAAMsC,EAAKtC,kBA5FN4D,IAAMC,WCMdC,MATf,WACE,OACE3E,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,MAAIC,UAAU,aAAd,aACAH,EAAAC,EAAAC,cAAC0E,EAAD,QCFNC,IAASC,OAAO9E,EAAAC,EAAAC,cAAC6E,EAAD,MAASC,SAASC,eAAe","file":"static/js/main.5ade114f.chunk.js","sourcesContent":["import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction TodoItem(props) {\n  const { item } = props;\n\n  return (\n    <div className=\"todo-item\">\n      <input\n        type=\"checkbox\"\n        checked={item.completed}\n        className=\"todo-item__input\"\n        id={`${item.title}-${item.id}`}\n      />\n\n      <label\n        className=\"todo-item__title\"\n        htmlFor={item.id}\n        onClick={() => props.onChange(item.id)}\n      >\n        {item.title}\n      </label>\n\n      <hr />\n      <p>{item.user.username}</p>\n    </div>\n  );\n}\n\nTodoItem.propTypes = {\n  item: PropTypes.shape({\n    completed: PropTypes.bool,\n    title: PropTypes.string,\n    user: PropTypes.object,\n    id: PropTypes.number,\n  }).isRequired,\n  onChange: PropTypes.func.isRequired,\n};\n\nexport default TodoItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction User(props) {\n  const {\n    name,\n    email,\n    phone,\n    website,\n  } = props.user;\n\n  return (\n    <div className=\"user\">\n      <p>\n        Name:\n        {name}\n      </p>\n      <p>\n        Email:\n        {email}\n      </p>\n      <p>\n        Phone:\n        {phone}\n      </p>\n      <p className=\"user__website\">\n        Website:\n        <a className=\"user__website-link\" href={website}>\n          {website}\n        </a>\n      </p>\n    </div>\n  );\n}\n\nUser.propTypes = {\n  user: PropTypes.shape({\n    name: PropTypes.string,\n    email: PropTypes.string,\n    phone: PropTypes.string,\n    website: PropTypes.string,\n  }).isRequired,\n};\n\nexport default User;\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nfunction Sorter(props) {\n  const { sortBy, sortByUserVals } = props;\n\n  return (\n    <div>\n      <span>Sort by</span>\n      <button\n        type=\"button\"\n        onClick={() => sortBy('title')}\n        className=\"sorting-button\"\n      >\n        title\n      </button>\n\n      <button\n        type=\"button\"\n        onClick={() => sortByUserVals('name')}\n        className=\"sorting-button\"\n      >\n        user\n      </button>\n\n      <button\n        type=\"button\"\n        onClick={() => sortBy('completed')}\n        className=\"sorting-button\"\n      >\n        incompleted first\n      </button>\n    </div>\n  );\n}\n\nSorter.propTypes = {\n  sortBy: PropTypes.func.isRequired,\n  sortByUserVals: PropTypes.func.isRequired,\n};\n\nexport default Sorter;\n","const baseDataAddress = 'https://jsonplaceholder.typicode.com';\n\nexport const getTodos = () => {\n  return fetch(`${baseDataAddress}/todos`)\n    .then(response => response.json());\n};\n\nexport const getUsers = () => {\n  return fetch(`${baseDataAddress}/users`)\n    .then(response => response.json());\n};\n","import React from 'react';\nimport TodoItem from './TodoItem';\nimport User from './User';\nimport Sorter from './Sorter';\nimport { getTodos, getUsers } from './getData';\n\nclass TodoList extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {\n      listOfTodos: [],\n      visibleTodos: [],\n      isLoaded: false,\n      isLoading: false,\n    };\n  }\n\n  loadData = () => {\n    this.setState({ isLoading: true });\n\n    Promise.all([getTodos(), getUsers()])\n      .then(([todos, users]) => {\n        const preparedTodos = todos.map(todo => ({\n          ...todo,\n          user: users.find(user => user.id === todo.userId),\n        }));\n\n        this.setState({\n          listOfTodos: preparedTodos,\n          isLoaded: true,\n          isLoading: false,\n          visibleTodos: preparedTodos,\n        });\n      });\n  }\n\n  sortByUserVals = (target) => {\n    this.setState((prevState) => {\n      return {\n        visibleTodos: [...prevState.listOfTodos]\n          .sort((a, b) => (a.user[target]).localeCompare(b.user[target])),\n      };\n    });\n  }\n\n  sortBy = (target) => {\n    this.setState((prevState) => {\n      return {\n        visibleTodos: [...prevState.listOfTodos]\n          .sort((a, b) => String(a[target]).localeCompare(String(b[target]))),\n      };\n    });\n  }\n\n  onTodoCheched = (id) => {\n    this.setState((prevState) => {\n      const checkedTodos = prevState.visibleTodos.map((todo) => {\n        if (todo.id === id) {\n          todo.completed = !todo.completed;\n        }\n        return todo;\n      });\n      return {\n        visibleTodos: checkedTodos,\n      };\n    });\n  }\n\n  render() {\n    return (\n      <div className=\"todo-list\">\n        { !this.state.isLoaded && (\n          <button\n            onClick={this.loadData}\n            type=\"button\"\n            disabled={this.state.isLoading}\n            className=\"todo-list__load-button\"\n          >\n            {this.state.isLoading ? 'Loading...' : 'LOAD'}\n          </button>\n        )}\n\n        { this.state.isLoaded && (\n          <Sorter\n            sortBy={this.sortBy}\n            sortByUserVals={this.sortByUserVals}\n          />\n        )}\n\n        {this.state.visibleTodos.map(todo => (\n          <div\n            className=\"todo-list__item\"\n            key={todo.id}\n          >\n            <TodoItem\n              item={todo}\n              onChange={this.onTodoCheched}\n            />\n            <User user={todo.user} />\n          </div>\n        ))}\n      </div>\n    );\n  }\n}\n\nexport default TodoList;\n","import React from 'react';\nimport TodoList from './TodoList';\n\nfunction App() {\n  return (\n    <div>\n      <h1 className=\"app-title\">ToDo List</h1>\n      <TodoList />\n    </div>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n"],"sourceRoot":""}